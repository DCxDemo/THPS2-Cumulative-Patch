# THawk2

THawk2 folder contains header files with the original game function pointers found in "smaller exe". It can be called directly from any custom code.
Partially rewritten code can be found in corresponding cpp files.

Source file names and function names are authentic Neversoft names coming from the following publicly available sources:

* PC version debug comments
	- Some leftover debug strings can be found in all versions of the game
	- PC version specifically contains a lot of garbage generated by extra ASSERTER inlined string processing code.
	- Whenever you see pattern like:
	  	```
		= 0xffffffff; (-1)
		= 267; (some int)
		= "somesourcefile.cpp"
		and then 20-30 lines later
		ASSERTER(message)
		```
	- this code was originally just a single line and can be safely removed altogether, excluding occasions when some extra meaningful logic is performed before the asserter.

* Mac OS X build debug symbols
	- limited to function names, ghidra doesnt recognize class names
	- very close to the PC version minus ghidra ARM problems with switch case.
	- also some stuff is aggresively inlined by the compiler, often requires manual analysis.

* iOS build debug symbols
  	- function names (actual signature with param types available) + some scattered global variable names.
	- backend functions are rewritten to opengl and apple libs, hence drastic differences in platform specific logic
	- suffers from inlining as well

* PSX Pro Skater Demo build debug symbols
  	- There is a SYM file in the PROSKATE demo available.
	- the demo however did not implement many things yet, hence lacks many menu names, game modes, career stuff, etc.
	- luckily has no relocatable modules implemented yet, since all stuff is in the executable file.

* PC Demo leftover source files
 	- there are a few scattered C source files with .mik extension found in PC early demo
	- there is debug VS project DB containing all symbols, including structs, enums, etc.
	- it contains most core stuff already, but there are many differences still - incomplete enums, missing funcs, etc.
